<% layout('layouts/boilerplate') %>

    <div class="container mt-5 p-5">
        <div class="row g-4">
            <% products.forEach(product => { %>
                <div class="col-md-4 col-lg-3 col-sm-6 d-flex align-items-stretch">
                    <div class="card  h-100 shadow-sm">
                        <img src="<%= product.image %>" loading="lazy"  width="300" height="300" class="card-img-top" alt="<%= product.name %>">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">
                                <%= product.name %>
                            </h5>
                            <p class="card-text flex-grow-1">
                                <%= product.description %>
                            </p>
                            <a href="/products/<%= product._id %>" class="btn btn-primary mt-auto mb-2">
                                <i class="fas fa-info-circle"></i> View Details
                            </a>
                            <form action="/cart" method="post" >
                                <input type="hidden" name="productId" value="<%= product._id %>">
                                <button type="submit" class="btn btn-secondary w-100">
                                    <i class="fas fa-cart-plus"></i> Add to Cart
                                </button>
                            </form>
                            <form action="/wishlist/add" method="post" class="mt-2">
                                <input type="hidden" name="productId" value="<%= product._id %>">
                                <button type="submit" class="btn  btn-outline-danger w-100 " >
                                    <i class="fas fa-heart"></i> Add to Wishlist
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            <% }) %>
        </div>
    </div>

<